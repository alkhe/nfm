$(document).ready(function(){$("a").attr("target","_blank");var m=$(document),d=$("#explorer").mCustomScrollbar({axis:"y",theme:"light-thin",scrollInertia:300}),e=d.find(".mCSB_container"),k=$("#separator"),n=$("#viewport").mCustomScrollbar(),l=io("http://systemic.io"),p=$("#root"),q=$("#up"),a="/",c=function(b){f||(l.emit("client.list",{path:b}),f=!0)},g=!1,h=!1,f=!1;m.on("mousedown",function(b){g=!0}).on("mouseup",function(b){h=g=!1}).on("mousemove",function(b){g&&h&&(d.css({width:b.pageX}),k.css({left:b.pageX}),
n.css({left:b.pageX+1}))});k.on("mousedown",function(){h=!0});d.on("click",".item",function(){var b=$(this);b.hasClass("folder")&&(a=path.join(a,b.text()),c(a))});c(a);l.on("server.list",function(b){e.empty();for(var a=0;a<b.dirs.length;a++)e.append($("<div>",{"class":"item folder"}).html("<a>"+b.dirs[a]+"</a>"));for(a=0;a<b.files.length;a++)e.append($("<div>",{"class":"item file"}).html("<a>"+b.files[a]+"</a>"));f=!1});p.on("click",function(){a="/";c(a)});q.on("click",function(){a=path.dirname(a);
c(a)})});
